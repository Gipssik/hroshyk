{% load static %}
{% load i18n %}

<header>
	{% include 'utils/logo.html' %}
	<div class="auth-buttons">
		{% if not user.is_authenticated %}
			<a class="twitch-btn" href="{% url 'django_twitch_auth_authorize' %}">
				{% trans 'Sign in with' %} <img src="{% static 'img/twitch.png' %}" alt="Twitch" style="height: 1.5rem;">
			</a>
		{% else %}
			<div class="authenticated">
				<div class="dropdown">
					<div class="user-info dropdown-toggle" id="headerDropdown" data-bs-toggle="dropdown" aria-expanded="false">
						<span class="fs-5 m-3">{{ user.balance }} â‚´</span>
						{% if user.profile_image_url %}
							<img src="{{ user.profile_image_url }}" alt="{% trans 'Profile photo' %}" class="profile-image header-image">
						{% else %}
							<img src="{% static 'img/user_placeholder.png' %}" alt="{% trans 'Profile photo' %}" class="profile-image header-image">
						{% endif %}
					</div>
					<ul class="dropdown-menu bg-dark dropdown-menu" aria-labelledby="headerDropdown">
						<li>
							<a class="dropdown-item text-white" href="{% url 'donations' %}">
								<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">
									<path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>
									<path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>
								</svg>
								{% trans 'Cabinet' %}
							</a>
						</li>
						<li>
							<a class="dropdown-item text-white" href="{% url 'logout' %}">
								<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
									<path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
									<path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
								</svg>
								{% trans 'Sign out' %}
							</a>
						</li>
					</ul>
				</div>
			</div>
		{% endif %}
	</div>
</header>