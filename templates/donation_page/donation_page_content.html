{% load crispy_forms_filters %}
{% load crispy_forms_tags %}
{% load static %}

<div class="form-with-preview" hx-boost="true">
    <form action="#" method="post" hx-target=".form-with-preview" hx-swap="outerHTML">
        {% if messages %}
            {% include 'utils/messages.html' %}
        {% endif %}
        {% csrf_token %}
        <div class="submit-btn">
            <button type="submit" class="twitch-btn">Зберегти</button>
            <a class="simple-btn go-to-preview-btn" href="#preview-container">Перегляд</a>
        </div>
        {{ form|crispy }}
        <div class="submit-btn">
            <button type="submit" class="twitch-btn">Зберегти</button>
        </div>
    </form>
    <div class="vr"></div>
    <div class="preview-container" id="preview-container">
        <h2>Попередній перегляд</h2>
        <div class="preview">
            <iframe height="1000px" width="100%" src="{% url 'viewer_donation_page' object.page_link %}" frameborder="0"></iframe>
        </div>
    </div>

</div>
